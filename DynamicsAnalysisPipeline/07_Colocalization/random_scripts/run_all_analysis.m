tic

distance = 0.2
col_frames = 3
min_dwelltime = 2
nbins = 70

path_to_data = 'D:\shmidt\Dropbox\Arbeit\MPIIB\trackmate_data';

erk_13 = [path_to_data '\' 'ERK13mer' '\'];
erk_16 = [path_to_data '\' 'ERK16mer' '\'];
mek_13 = [path_to_data '\' 'MEK13mer' '\'];
mek_16 = [path_to_data '\' 'MEK16mer' '\'];
 
 
%% ERK 13
full_erk_13_grb2 = strcat(erk_13,{ ...
    '20190219 Grb2 ERK 13mer_01_cell1_Grb2'; ...
    '20190219 Grb2 ERK 13mer_01_cell2_Grb2'; ...
    '20190219 Grb2 ERK 13mer_02_cell1_Grb2'; ...
    '20190304 Grb2 ERK 13mer_01_cell1_Grb2'; ...
    '20190304 Grb2 ERK 13mer_01_cell2_Grb2'; ...
    '20190304 Grb2 ERK 13mer_01_cell3_Grb2'; ...
    '20190304 Grb2 ERK 13mer_01_cell4_Grb2'; ...
    '20190304 Grb2 ERK 13mer_01_cell5_Grb2'; ...
    '20190304 Grb2 ERK 13mer_02_cell1_Grb2'; ...
    '20190304 Grb2 ERK 13mer_02_cell2_Grb2'; ...
    '20190304 Grb2 ERK 13mer_02_cell3_Grb2'; ...
    '20190320 Grb2 ERK 13mer_01_cell1_Grb2'; ...
    '20190320 Grb2 ERK 13mer_02_cell1_Grb2'}, '.xml');
 
full_erk_13_erk = strcat(erk_13,{ ...
    '20190219 Grb2 ERK 13mer_01_cell1_ERK'; ...
    '20190219 Grb2 ERK 13mer_01_cell2_ERK'; ...
    '20190219 Grb2 ERK 13mer_02_cell1_ERK'; ...
    '20190304 Grb2 ERK 13mer_01_cell1_ERK'; ...
    '20190304 Grb2 ERK 13mer_01_cell2_ERK'; ...
    '20190304 Grb2 ERK 13mer_01_cell3_ERK'; ...
    '20190304 Grb2 ERK 13mer_01_cell4_ERK'; ...
    '20190304 Grb2 ERK 13mer_01_cell5_ERK'; ...
    '20190304 Grb2 ERK 13mer_02_cell1_ERK'; ...
    '20190304 Grb2 ERK 13mer_02_cell2_ERK'; ...
    '20190304 Grb2 ERK 13mer_02_cell3_ERK'; ...
    '20190320 Grb2 ERK 13mer_01_cell1_ERK'; ...
    '20190320 Grb2 ERK 13mer_02_cell1_ERK'}, '.xml');

[~,num] = size(full_erk_13_grb2');
for i = 1:num
   name = strsplit(full_erk_13_grb2{i}, '\');
   name = erase(name(end), '.xml');
   trackmateTrackAnalysis(full_erk_13_grb2{i}, {full_erk_13_erk{i}}, name{1}, {'GRB2', 'ERK'}, distance, col_frames, min_dwelltime, nbins);
end

%% ERK 16
full_erk_16_grb2 = strcat(erk_16,{ ...
    '20190328 Grb2 ERK 16mer_03_cell1_Grb2'; ...
    '20190328 Grb2 ERK 16mer_02_cell2_Grb2'; ...
    '20190328 Grb2 ERK 16mer_02_cell1_Grb2'; ...
    '20190328 Grb2 ERK 16mer_01_cell3_Grb2'; ...
    '20190328 Grb2 ERK 16mer_01_cell2_Grb2'; ...
    '20190328 Grb2 ERK 16mer_01_cell1_Grb2'; ...
    '20190313 Grb2 ERK 16mer_03_cell2_Grb2'; ...
    '20190313 Grb2 ERK 16mer_01_cell2_Grb2'; ...
    '20190313 Grb2 ERK 16mer_01_cell1_Grb2'; ...
    '20180718-02-cell1-grb2'; ...
    '20180718_01_cell2_grb2'; ...
    '20180718_01_cell1_grb2'; ...
    '20180717_04_cell1_grb2'; ...
    '20180717_01_cell2_grb2'; ...
    '20180717_01_cell1_grb2'}, '.xml')
 
full_erk_16_erk = strcat(erk_16,{...
    '20190328 Grb2 ERK 16mer_03_cell1_ERK'; ...
    '20190328 Grb2 ERK 16mer_02_cell2_ERK'; ...
    '20190328 Grb2 ERK 16mer_02_cell1_ERK'; ...
    '20190328 Grb2 ERK 16mer_01_cell3_ERK'; ...
    '20190328 Grb2 ERK 16mer_01_cell2_ERK'; ...
    '20190328 Grb2 ERK 16mer_01_cell1_ERK'; ...
    '20190313 Grb2 ERK 16mer_03_cell2_ERK'; ...
    '20190313 Grb2 ERK 16mer_01_cell2_ERK'; ...
    '20190313 Grb2 ERK 16mer_01_cell1_ERK'; ...
    '20180718-02-cell1-erk'; ...
    '20180718-01-cell2-erk_v2'; ...
    '20180718_01_cell1_erk'; ...
    '20180717_04_cell1_erk'; ...
    '20180717_01_cell2_erk'; ...
    '20180717_01_cell1_erk'}, '.xml');

[~,num] = size(full_erk_16_grb2');
for i = 1:num
   name = strsplit(full_erk_16_grb2{i}, '\');
   name = erase(name(end), '.xml')
   trackmateTrackAnalysis(full_erk_16_grb2{i}, {full_erk_16_erk{i}}, name{1}, {'GRB2', 'ERK'}, distance, col_frames, min_dwelltime, nbins);
end

%% MEK 13
full_mek_13_lig = strcat(mek_13,{ ...
    '20180815 JRT3(cl019) 13mer_03 cell2\20180815 JRT3(cl019) 13mer_03_cell2 lig_v2'; ...
    '20180815 JRT3(cl019) 13mer_03_cell1\20180815 JRT3(cl019) 13mer_03_cell1 lig'; ...
    '20180815 JRT3(cl019) 13mer_03_cell3\20180815 JRT3(cl019) 13mer_03_cell3 lig'; ...
    '20180815 JRT3(cl019) 13mer_03_cell4\20180815 JRT3(cl019) 13mer_03_cell4 lig'; ...
    '20180815 JRT3(cl019) 13mer_03_cell5\20180815 JRT3(cl019) 13mer_03_cell5 lig'; ...
    '20180815 JRT3(cl019) 13mer_04_cell3\20180815 JRT3(cl019) 13mer_04_cell3 lig'; ...
    '20180815 JRT3(cl019) 13mer_04_cell4\20180815 JRT3(cl019) 13mer_04_cell4 lig'; ...
    '20180815 JRT3(cl019) 13mer_04_cell5\20180815 JRT3(cl019) 13mer_04_cell5 lig'; ...
    'Yevin_20180815_02_13_mer_cell1\20180815 _02_cell1_647'; ...
    'Yevin_20180815_02_13_mer_cell2\20180815_02_cell2_647'; ...
    'Yevin_20180815_02_13_mer_cell3\20180815__02_cell3_647'}, '.xml');

full_mek_13_mek = strcat(mek_13,{ ...
    '20180815 JRT3(cl019) 13mer_03 cell2\20180815 JRT3(cl019) 13mer_03_cell2 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_03_cell1\20180815 JRT3(cl019) 13mer_03_cell1 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_03_cell3\20180815 JRT3(cl019) 13mer_03_cell3 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_03_cell4\20180815 JRT3(cl019) 13mer_03_cell4 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_03_cell5\20180815 JRT3(cl019) 13mer_03_cell5 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_04_cell3\20180815 JRT3(cl019) 13mer_04_cell3 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_04_cell4\20180815 JRT3(cl019) 13mer_04_cell4 MEK background subtracted'; ...
    '20180815 JRT3(cl019) 13mer_04_cell5\20180815 JRT3(cl019) 13mer_04_cell5 MEK background subtracted'; ...
    'Yevin_20180815_02_13_mer_cell1\20180815 _02_cell1_jf503'; ...
    'Yevin_20180815_02_13_mer_cell2\20180815_02_cell2_jf503_background_substracted'; ...
    'Yevin_20180815_02_13_mer_cell3\20180815 _02_cell3_jf503'}, '.xml');
 
[~,num] = size(full_mek_13_lig');
for i = 1:num
   name = strsplit(full_mek_13_lig{i}, '\');
   name = erase(name(end), '.xml');
   trackmateTrackAnalysis(full_mek_13_lig{i}, {full_mek_13_mek{i}}, name{1}, {'DNA LIGAND', 'MEK'}, distance, col_frames, min_dwelltime, nbins);
end

%% MEK 16
full_mek_16_lig = strcat(mek_16,{ ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_04_cell1_Lig'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_03_cell2_Lig'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_03_cell1_Lig'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_02_cell2_Lig'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_02_cell1_Lig'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_01_cell1_Lig'; ...
    'Yevin_20180731_JRT3_02\20183107_lig'; ...
    'Yevin_20180731_JRT3_03\20180731_JRT3_03_ligand_paper'; ...
    '20180731 JRT3 Cell_1\20183107_dna_ligand'; ...
    'Yevin_20180816_01_16_mer_cell1\20180816_JRT3_ligand'; ...
    'Yevin_20180816_01_16_mer_cell2\20180816_01_cell2_647'; ...
    'Yevin_20180816_01_16_mer_Cell3\20180816_ligand'; ...
    'Yevin_20180816_03_16_mer_cell3\20180816_JRT3_ligand_647'}, '.xml');

full_mek_16_mek = strcat(mek_16,{ ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_04_cell1_MEK'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_03_cell2_MEK'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_03_cell1_MEK'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_02_cell2_MEK'; ...
    '20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_02_cell1_MEK'; ...
	'20180814 MEK Rc 16 mer\20180814 MEK Rc 16mer_01_cell1_MEK'; ...
    'Yevin_20180731_JRT3_02\20183107_mek'; ...
    'Yevin_20180731_JRT3_03\20180731_JRT3_03_MEK_background_subtracted'; ...
    '20180731 JRT3 Cell_1\20183107_mek_subtracted'; ...
    'Yevin_20180816_01_16_mer_cell1\20180816_JRT3_jf503_MEK_background_substracted'; ...
    'Yevin_20180816_01_16_mer_cell2\20180816_01_cell2_jf503'; ...
    'Yevin_20180816_01_16_mer_cell3\20180816_jf503'; ...
    'Yevin_20180816_03_16_mer_cell3\20180816_JRT3_MEK-jf503_background_substracted'}, '.xml');
 
[~,num] = size(full_mek_16_lig');
for i = 1:num
   name = strsplit(full_mek_16_lig{i}, '\');
   name = erase(name(end), '.xml');
   trackmateTrackAnalysis(full_mek_16_lig{i}, {full_mek_16_mek{i}}, name{1}, {'DNA LIGAND', 'MEK'}, distance, col_frames, min_dwelltime, nbins);
end
 
toc